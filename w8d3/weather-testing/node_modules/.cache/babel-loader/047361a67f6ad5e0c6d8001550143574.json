{"ast":null,"code":"var _jsxFileName = \"/home/francis/lighthouse/lectures/2022-east-sep19/w8d3/weather-testing/src/App.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport CityForm from \"./components/CityForm\";\nimport CityList from \"./components/CityList\";\nimport CurrentWeather from \"./components/CurrentWeather\";\nimport \"./App.css\"; // 09fd719b4b698ec0260e424f83378e3d\n// https://api.openweathermap.org/data/2.5/weather?q={city name}&appid={API key}\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [currentCity, setCurrentCity] = useState(\"\");\n  const [cityHistory, setCityHistory] = useState([]);\n  const [weatherData, setWeatherData] = useState(null);\n\n  const fetchWeatherAPI = cityName => {\n    const APIKEY = \"09fd719b4b698ec0260e424f83378e3d\";\n    const url = `https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=${APIKEY}`;\n    return axios.get(url).then(res => {\n      const weatherObj = {\n        temperature: Math.round(res.data.main.temp - 273.15),\n        conditions: res.data.weather[0].description\n      };\n      return weatherObj;\n    });\n  };\n\n  const weatherSubmit = formData => {\n    const {\n      city\n    } = formData;\n    console.log(\"submitted!\");\n    fetchWeatherAPI(city).then(data => {\n      setCurrentCity(city);\n      setWeatherData(data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const fetchWeather = city => {\n    fetchWeatherAPI(city).then(data => {\n      setCurrentCity(city);\n      setWeatherData(data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Super weather YEAH! \\u26C5\\uD83C\\uDF2A\\uFE0F\\uD83C\\uDF29\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CityForm, {\n      onSubmit: weatherSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CityList, {\n      cities: cityHistory,\n      fetchWeather: fetchWeather\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), currentCity && /*#__PURE__*/_jsxDEV(CurrentWeather, {\n      city: currentCity,\n      ...weatherData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"U/Cl0iJVc0G04LdQFCnkc63QlYc=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","axios","CityForm","CityList","CurrentWeather","App","currentCity","setCurrentCity","cityHistory","setCityHistory","weatherData","setWeatherData","fetchWeatherAPI","cityName","APIKEY","url","get","then","res","weatherObj","temperature","Math","round","data","main","temp","conditions","weather","description","weatherSubmit","formData","city","console","log","catch","err","fetchWeather"],"sources":["/home/francis/lighthouse/lectures/2022-east-sep19/w8d3/weather-testing/src/App.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nimport CityForm from \"./components/CityForm\";\nimport CityList from \"./components/CityList\";\nimport CurrentWeather from \"./components/CurrentWeather\";\n\nimport \"./App.css\";\n\n// 09fd719b4b698ec0260e424f83378e3d\n// https://api.openweathermap.org/data/2.5/weather?q={city name}&appid={API key}\n\nfunction App() {\n  const [currentCity, setCurrentCity] = useState(\"\");\n  const [cityHistory, setCityHistory] = useState([]);\n  const [weatherData, setWeatherData] = useState(null);\n\n  const fetchWeatherAPI = (cityName) => {\n    const APIKEY = \"09fd719b4b698ec0260e424f83378e3d\";\n    const url = `https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=${APIKEY}`;\n\n    return axios.get(url).then((res) => {\n      const weatherObj = {\n        temperature: Math.round(res.data.main.temp - 273.15),\n        conditions: res.data.weather[0].description,\n      };\n      return weatherObj;\n    });\n  };\n\n  const weatherSubmit = (formData) => {\n    const { city } = formData;\n\n    console.log(\"submitted!\");\n\n    fetchWeatherAPI(city)\n      .then((data) => {\n        setCurrentCity(city);\n        setWeatherData(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const fetchWeather = (city) => {\n    fetchWeatherAPI(city)\n      .then((data) => {\n        setCurrentCity(city);\n        setWeatherData(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  return (\n    <div className=\"App\">\n      <header>\n        <h1>Super weather YEAH! ‚õÖüå™Ô∏èüå©Ô∏è</h1>\n      </header>\n      <CityForm onSubmit={weatherSubmit} />\n      <CityList cities={cityHistory} fetchWeather={fetchWeather} />\n      {currentCity && <CurrentWeather city={currentCity} {...weatherData} />}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,cAAP,MAA2B,6BAA3B;AAEA,OAAO,WAAP,C,CAEA;AACA;;;;AAEA,SAASC,GAAT,GAAe;EAAA;;EACb,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCR,QAAQ,CAAC,EAAD,CAA9C;EACA,MAAM,CAACS,WAAD,EAAcC,cAAd,IAAgCV,QAAQ,CAAC,EAAD,CAA9C;EACA,MAAM,CAACW,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,CAAC,IAAD,CAA9C;;EAEA,MAAMa,eAAe,GAAIC,QAAD,IAAc;IACpC,MAAMC,MAAM,GAAG,kCAAf;IACA,MAAMC,GAAG,GAAI,qDAAoDF,QAAS,UAASC,MAAO,EAA1F;IAEA,OAAOb,KAAK,CAACe,GAAN,CAAUD,GAAV,EAAeE,IAAf,CAAqBC,GAAD,IAAS;MAClC,MAAMC,UAAU,GAAG;QACjBC,WAAW,EAAEC,IAAI,CAACC,KAAL,CAAWJ,GAAG,CAACK,IAAJ,CAASC,IAAT,CAAcC,IAAd,GAAqB,MAAhC,CADI;QAEjBC,UAAU,EAAER,GAAG,CAACK,IAAJ,CAASI,OAAT,CAAiB,CAAjB,EAAoBC;MAFf,CAAnB;MAIA,OAAOT,UAAP;IACD,CANM,CAAP;EAOD,CAXD;;EAaA,MAAMU,aAAa,GAAIC,QAAD,IAAc;IAClC,MAAM;MAAEC;IAAF,IAAWD,QAAjB;IAEAE,OAAO,CAACC,GAAR,CAAY,YAAZ;IAEArB,eAAe,CAACmB,IAAD,CAAf,CACGd,IADH,CACSM,IAAD,IAAU;MACdhB,cAAc,CAACwB,IAAD,CAAd;MACApB,cAAc,CAACY,IAAD,CAAd;IACD,CAJH,EAKGW,KALH,CAKUC,GAAD,IAAS;MACdH,OAAO,CAACC,GAAR,CAAYE,GAAZ;IACD,CAPH;EAQD,CAbD;;EAeA,MAAMC,YAAY,GAAIL,IAAD,IAAU;IAC7BnB,eAAe,CAACmB,IAAD,CAAf,CACGd,IADH,CACSM,IAAD,IAAU;MACdhB,cAAc,CAACwB,IAAD,CAAd;MACApB,cAAc,CAACY,IAAD,CAAd;IACD,CAJH,EAKGW,KALH,CAKUC,GAAD,IAAS;MACdH,OAAO,CAACC,GAAR,CAAYE,GAAZ;IACD,CAPH;EAQD,CATD;;EAWA,oBACE;IAAK,SAAS,EAAC,KAAf;IAAA,wBACE;MAAA,uBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF,eAIE,QAAC,QAAD;MAAU,QAAQ,EAAEN;IAApB;MAAA;MAAA;MAAA;IAAA,QAJF,eAKE,QAAC,QAAD;MAAU,MAAM,EAAErB,WAAlB;MAA+B,YAAY,EAAE4B;IAA7C;MAAA;MAAA;MAAA;IAAA,QALF,EAMG9B,WAAW,iBAAI,QAAC,cAAD;MAAgB,IAAI,EAAEA,WAAtB;MAAA,GAAuCI;IAAvC;MAAA;MAAA;MAAA;IAAA,QANlB;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAUD;;GAtDQL,G;;KAAAA,G;AAwDT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}